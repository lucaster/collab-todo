alter table authority_people drop foreign key FK4C07070BC12321BA;
alter table authority_people drop foreign key FK4C07070B640A6BA;
alter table category drop foreign key FK302BCFE845B7201;
alter table todo drop foreign key FK366846AF2E95A1;
alter table todo drop foreign key FK366846F0422219;
drop table if exists authority;
drop table if exists authority_people;
drop table if exists category;
drop table if exists error;
drop table if exists page;
drop table if exists person;
drop table if exists requestmap;
drop table if exists todo;
drop table if exists user;
create table authority (id bigint not null auto_increment, version bigint not null, authority varchar(255) not null unique, description varchar(255) not null, primary key (id)) ENGINE=InnoDB;
create table authority_people (authority_id bigint not null, person_id bigint not null, primary key (authority_id, person_id)) ENGINE=InnoDB;
create table category (id bigint not null auto_increment, version bigint not null, description varchar(255) not null, name varchar(255) not null, user_id bigint not null, primary key (id)) ENGINE=InnoDB;
create table error (id bigint not null auto_increment, version bigint not null, message varchar(255) not null, primary key (id)) ENGINE=InnoDB;
create table page (id bigint not null auto_increment, version bigint not null, content varchar(255) not null, title varchar(255) not null, primary key (id)) ENGINE=InnoDB;
create table person (id bigint not null auto_increment, version bigint not null, description varchar(255) not null, email varchar(255) not null, email_show bit not null, enabled bit not null, passwd varchar(255) not null, user_real_name varchar(255) not null, username varchar(255) not null unique, primary key (id)) ENGINE=InnoDB;
create table requestmap (id bigint not null auto_increment, version bigint not null, config_attribute varchar(255) not null, url varchar(255) not null unique, primary key (id)) ENGINE=InnoDB;
create table todo (id bigint not null auto_increment, version bigint not null, associated_file tinyblob, category_id bigint not null, completed_date datetime, content_type varchar(255), created_date datetime not null, due_date datetime, file_name varchar(255), last_modified_date datetime not null, name varchar(255) not null, note varchar(1000), owner_id bigint not null, priority varchar(255) not null, status varchar(255) not null, primary key (id)) ENGINE=InnoDB;
create table user (id bigint not null auto_increment, version bigint not null, email varchar(255) not null, first_name varchar(255) not null, last_name varchar(255) not null, user_name varchar(255) not null unique, primary key (id)) ENGINE=InnoDB;
alter table authority_people add index FK4C07070BC12321BA (person_id), add constraint FK4C07070BC12321BA foreign key (person_id) references person (id);
alter table authority_people add index FK4C07070B640A6BA (authority_id), add constraint FK4C07070B640A6BA foreign key (authority_id) references authority (id);
alter table category add index FK302BCFE845B7201 (user_id), add constraint FK302BCFE845B7201 foreign key (user_id) references user (id);
alter table todo add index FK366846AF2E95A1 (category_id), add constraint FK366846AF2E95A1 foreign key (category_id) references category (id);
alter table todo add index FK366846F0422219 (owner_id), add constraint FK366846F0422219 foreign key (owner_id) references user (id);
